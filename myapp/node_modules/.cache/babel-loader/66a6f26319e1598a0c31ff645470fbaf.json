{"ast":null,"code":"var _jsxFileName = \"/Users/chienyoushan/Desktop/33/myapp/src/pages/SearchDetail/index.js\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport { useState, useEffect, useLayoutEffect } from \"react\";\nimport Carousel from \"../../components/Common/Carousel\";\nimport { requesScenicSpot, requesActivity, requesRestaurant } from \"../../controller/apiManager\";\nimport { useParams, useLocation } from \"react-router-dom\";\nimport DetailInfo from \"./common/DetailInfo\";\nimport Info from \"./common/Info\";\nimport Maps from \"./common/Map\";\nimport Other from \"./common/Other\";\nimport IntroList from '../../components/Common/IntroList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nasync function fetchScenicSpotData(setDetailData, id) {\n  //載入頁面取後端資料\n  const getdata = await requesScenicSpot('', {\n    $filter: `ScenicSpotID eq '` + id + `'`,\n    $format: 'JSON'\n  });\n  setDetailData(getdata);\n}\n\nasync function fetchRestaurantData(setDetailData, id) {\n  //載入頁面取後端資料\n  const getdata = await requesRestaurant('', {\n    $filter: `RestaurantID eq '` + id + `'`,\n    $format: 'JSON'\n  });\n  setDetailData(getdata);\n}\n\nasync function fetchActivityData(setDetailData, id) {\n  //載入頁面取後端資料\n  const getdata = await requesActivity('', {\n    $filter: `ActivityID eq '` + id + `'`,\n    $format: 'JSON'\n  });\n  setDetailData(getdata);\n}\n\nconst SearchDetail = () => {\n  _s();\n\n  // const { itemId, itemType } = useParams();\n  console.log(useParams);\n  const loc = useLocation();\n  const {\n    itemType,\n    ID\n  } = loc.state;\n  console.log(loc);\n  const [searchDetailData, setDetailData] = useState([]);\n  useEffect(() => {\n    if (itemType === 'ActivityID') {\n      fetchActivityData(setDetailData, itemId);\n    }\n\n    if (itemType === 'ScenicSpotID') {\n      fetchScenicSpotData(setDetailData, itemId);\n    }\n\n    if (itemType === 'RestaurantID') {\n      fetchRestaurantData(setDetailData, itemId);\n    }\n  }, [loc]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Carousel, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }, this), searchDetailData.length > 0 && /*#__PURE__*/_jsxDEV(Info, {\n      data: searchDetailData,\n      itemType: itemType\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 45\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container px-5\",\n      id: \"infoBlock\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [searchDetailData.length > 0 && /*#__PURE__*/_jsxDEV(DetailInfo, {\n          data: searchDetailData,\n          itemType: itemType\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 51\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-6 p-2\",\n          children: [/*#__PURE__*/_jsxDEV(Maps, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Other, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(IntroList, {\n      title: \"newactivity\",\n      type: \"PC\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 7\n  }, this);\n};\n\n_s(SearchDetail, \"kwYOWmF6rf+EDkZf//2rojGgalQ=\", false, function () {\n  return [useLocation];\n});\n\n_c = SearchDetail;\nexport default SearchDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchDetail\");","map":{"version":3,"sources":["/Users/chienyoushan/Desktop/33/myapp/src/pages/SearchDetail/index.js"],"names":["React","useState","useEffect","useLayoutEffect","Carousel","requesScenicSpot","requesActivity","requesRestaurant","useParams","useLocation","DetailInfo","Info","Maps","Other","IntroList","fetchScenicSpotData","setDetailData","id","getdata","$filter","$format","fetchRestaurantData","fetchActivityData","SearchDetail","console","log","loc","itemType","ID","state","searchDetailData","itemId","length"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { useState, useEffect, useLayoutEffect } from \"react\";\nimport Carousel from \"../../components/Common/Carousel\";\nimport { requesScenicSpot, requesActivity, requesRestaurant } from \"../../controller/apiManager\";\nimport { useParams, useLocation } from \"react-router-dom\";\nimport DetailInfo from \"./common/DetailInfo\"\nimport Info from \"./common/Info\";\nimport Maps from \"./common/Map\";\nimport Other from \"./common/Other\";\nimport IntroList from '../../components/Common/IntroList';\n\nasync function fetchScenicSpotData(setDetailData, id){ //載入頁面取後端資料\n    const getdata = await requesScenicSpot('', {\n        $filter: `ScenicSpotID eq '`+id+`'`,\n        $format: 'JSON'\n    });\n    setDetailData(getdata);\n}\n\nasync function fetchRestaurantData(setDetailData, id){ //載入頁面取後端資料\n    const getdata = await requesRestaurant('', {\n        $filter: `RestaurantID eq '`+id+`'`,\n        $format: 'JSON'\n    });\n    setDetailData(getdata);\n}\n\nasync function fetchActivityData(setDetailData, id){ //載入頁面取後端資料\n    const getdata = await requesActivity('', {\n        $filter: `ActivityID eq '`+id+`'`,\n        $format: 'JSON'\n    });\n    setDetailData(getdata);\n}\n\n\nconst SearchDetail = () => {\n    // const { itemId, itemType } = useParams();\n    console.log(useParams);\n    const loc = useLocation();\n    const { itemType, ID } = loc.state;\n    console.log(loc);\n    const [searchDetailData, setDetailData] = useState([]);\n    useEffect(() => {\n        if(itemType === 'ActivityID'){\n            fetchActivityData(setDetailData, itemId);\n        }\n\n        if(itemType === 'ScenicSpotID'){\n            fetchScenicSpotData(setDetailData, itemId);\n        }\n\n        if(itemType === 'RestaurantID'){\n            fetchRestaurantData(setDetailData, itemId);\n        }\n    }, [loc]);\n\n    return (\n      <div>\n          <Carousel/>\n          { searchDetailData.length > 0 && (<Info data={searchDetailData} itemType={itemType}/>)}\n          <div className=\"container px-5\" id=\"infoBlock\">\n            <div className=\"row\">\n                { searchDetailData.length > 0 && (<DetailInfo data={searchDetailData} itemType={itemType}/>)}\n                <div className=\"col-6 p-2\">\n                    <Maps/>\n                    <Other/>\n                </div>\n            </div>\n          </div>\n          <IntroList title=\"newactivity\" type=\"PC\"/>\n      </div>\n    );\n  };\n  \n  export default SearchDetail;"]},"metadata":{},"sourceType":"module"}