{"ast":null,"code":"import _regeneratorRuntime from\"/Users/chienyoushan/Desktop/33/myapp/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/Users/chienyoushan/Desktop/33/myapp/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _asyncToGenerator from\"/Users/chienyoushan/Desktop/33/myapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{useState,useEffect}from\"react\";import ActivityCard from\"./ActivityCard\";import PointCard from\"./PointCard\";import{requesScenicSpot,requesActivity,requesRestaurant}from\"../../controller/apiManager\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function fetchScenicSpotData(_x){return _fetchScenicSpotData.apply(this,arguments);}function _fetchScenicSpotData(){_fetchScenicSpotData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(sethotList){var getdata;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return requesScenicSpot('',{$filter:\"Picture/PictureUrl1 ne null\",$top:4,$format:'JSON'});case 2:getdata=_context.sent;sethotList(getdata);case 4:case\"end\":return _context.stop();}}},_callee);}));return _fetchScenicSpotData.apply(this,arguments);}function fetchRestaurantData(_x2){return _fetchRestaurantData.apply(this,arguments);}function _fetchRestaurantData(){_fetchRestaurantData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(sethotList){var getdata;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return requesRestaurant('',{$filter:\"Picture/PictureUrl1 ne null\",$top:4,$format:'JSON'});case 2:getdata=_context2.sent;sethotList(getdata);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchRestaurantData.apply(this,arguments);}function fetchActivityData(_x3){return _fetchActivityData.apply(this,arguments);}function _fetchActivityData(){_fetchActivityData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(sethotList){var getdata;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return requesActivity('',{$filter:\"Picture/PictureUrl1 ne null\",$top:4,$format:'JSON'});case 2:getdata=_context3.sent;sethotList(getdata);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return _fetchActivityData.apply(this,arguments);}var IntroList=function IntroList(_ref){var title=_ref.title,type=_ref.type;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),hotList=_useState2[0],sethotList=_useState2[1];useEffect(function(){if(title==='ActivityID'){fetchActivityData(sethotList);}if(title==='ScenicSpotID'){fetchScenicSpotData(sethotList);}if(title==='RestaurantID'){fetchRestaurantData(sethotList);}},[]);var GetCard=function GetCard(_ref2){var item=_ref2.item,type=_ref2.type,title=_ref2.title,id=_ref2.id;if(type==='AC'){return/*#__PURE__*/_jsx(ACard,{item:item},id);}else{return/*#__PURE__*/_jsx(PCard,{item:item,title:title},id);}};var ACard=function ACard(_ref3){var item=_ref3.item,key=_ref3.key;return/*#__PURE__*/_jsx(ActivityCard,{item:item},key);};var PCard=function PCard(_ref4){var item=_ref4.item,title=_ref4.title,key=_ref4.key;return/*#__PURE__*/_jsx(PointCard,{item:item,type:title},key);};var titleName={ActivityID:'近期活動',ScenicSpotID:'熱門打卡景點',RestaurantID:'一再回訪的美食',otherActivity:'還有這些不能錯過的活動',otherPlace:'還有這些不能錯過的景點',otherRestaurant:'還有這些不能錯過的美食'};return/*#__PURE__*/_jsxs(\"div\",{className:\"container p-5\",id:\"newActivityBlock\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"containerTitleBox\",children:[/*#__PURE__*/_jsx(\"h1\",{children:titleName[title]}),/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"moreBtn red mr-5 position-relative\",children:\"\\u67E5\\u770B\\u66F4\\u591A\\u6D3B\\u52D5\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-wrap Block\",children:hotList.map(function(item,index){return/*#__PURE__*/_jsx(GetCard,{item:item,type:type,title:title,id:title+\"-\"+index});})})]});};export default IntroList;","map":{"version":3,"sources":["/Users/chienyoushan/Desktop/33/myapp/src/components/Common/IntroList.js"],"names":["useState","useEffect","ActivityCard","PointCard","requesScenicSpot","requesActivity","requesRestaurant","fetchScenicSpotData","sethotList","$filter","$top","$format","getdata","fetchRestaurantData","fetchActivityData","IntroList","title","type","hotList","GetCard","item","id","ACard","key","PCard","titleName","ActivityID","ScenicSpotID","RestaurantID","otherActivity","otherPlace","otherRestaurant","map","index"],"mappings":"kWAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,OAASC,gBAAT,CAA2BC,cAA3B,CAA2CC,gBAA3C,KAAmE,6BAAnE,C,gGAEeC,CAAAA,mB,qKAAf,iBAAmCC,UAAnC,oJAC0BJ,CAAAA,gBAAgB,CAAC,EAAD,CAAK,CACvCK,OAAO,CAAE,6BAD8B,CAEvCC,IAAI,CAAE,CAFiC,CAGvCC,OAAO,CAAE,MAH8B,CAAL,CAD1C,QACUC,OADV,eAMIJ,UAAU,CAACI,OAAD,CAAV,CANJ,sD,8DASeC,CAAAA,mB,sKAAf,kBAAmCL,UAAnC,yJAC0BF,CAAAA,gBAAgB,CAAC,EAAD,CAAK,CACvCG,OAAO,CAAE,6BAD8B,CAEvCC,IAAI,CAAE,CAFiC,CAGvCC,OAAO,CAAE,MAH8B,CAAL,CAD1C,QACUC,OADV,gBAMIJ,UAAU,CAACI,OAAD,CAAV,CANJ,wD,8DASeE,CAAAA,iB,gKAAf,kBAAiCN,UAAjC,yJAC0BH,CAAAA,cAAc,CAAC,EAAD,CAAK,CACrCI,OAAO,CAAE,6BAD4B,CAErCC,IAAI,CAAE,CAF+B,CAGrCC,OAAO,CAAE,MAH4B,CAAL,CADxC,QACUC,OADV,gBAMIJ,UAAU,CAACI,OAAD,CAAV,CANJ,wD,oDASA,GAAMG,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAAqB,IAAlBC,CAAAA,KAAkB,MAAlBA,KAAkB,CAAXC,IAAW,MAAXA,IAAW,CACnC,cAA8BjB,QAAQ,CAAC,EAAD,CAAtC,wCAAOkB,OAAP,eAAgBV,UAAhB,eAEAP,SAAS,CAAC,UAAM,CACZ,GAAIe,KAAD,GAAY,YAAf,CAA4B,CACxBF,iBAAiB,CAACN,UAAD,CAAjB,CACH,CAED,GAAIQ,KAAD,GAAY,cAAf,CAA8B,CAC1BT,mBAAmB,CAACC,UAAD,CAAnB,CACH,CAED,GAAIQ,KAAD,GAAY,cAAf,CAA8B,CAC1BH,mBAAmB,CAACL,UAAD,CAAnB,CACH,CACJ,CAZQ,CAYN,EAZM,CAAT,CAeA,GAAMW,CAAAA,OAAO,CAAC,QAARA,CAAAA,OAAQ,OAA6B,IAA1BC,CAAAA,IAA0B,OAA1BA,IAA0B,CAApBH,IAAoB,OAApBA,IAAoB,CAAdD,KAAc,OAAdA,KAAc,CAAPK,EAAO,OAAPA,EAAO,CACvC,GAAGJ,IAAI,GAAK,IAAZ,CAAiB,CACb,mBAAO,KAAC,KAAD,EAAO,IAAI,CAAEG,IAAb,EAAwBC,EAAxB,CAAP,CACH,CAFD,IAEO,CACH,mBAAO,KAAC,KAAD,EAAO,IAAI,CAAED,IAAb,CAAmB,KAAK,CAAEJ,KAA1B,EAAsCK,EAAtC,CAAP,CACH,CACJ,CAND,CAQA,GAAMC,CAAAA,KAAK,CAAC,QAANA,CAAAA,KAAM,OAAe,IAAbF,CAAAA,IAAa,OAAbA,IAAa,CAAPG,GAAO,OAAPA,GAAO,CACvB,mBAAO,KAAC,YAAD,EACH,IAAI,CAAEH,IADH,EAAmBG,GAAnB,CAAP,CAGH,CAJD,CAMA,GAAMC,CAAAA,KAAK,CAAC,QAANA,CAAAA,KAAM,OAAsB,IAApBJ,CAAAA,IAAoB,OAApBA,IAAoB,CAAdJ,KAAc,OAAdA,KAAc,CAAPO,GAAO,OAAPA,GAAO,CAC9B,mBAAO,KAAC,SAAD,EACH,IAAI,CAAEH,IADH,CAEH,IAAI,CAAEJ,KAFH,EAGEO,GAHF,CAAP,CAKH,CAND,CAQA,GAAIE,CAAAA,SAAS,CAAG,CACZC,UAAU,CAAG,MADD,CAEZC,YAAY,CAAG,QAFH,CAGZC,YAAY,CAAG,SAHH,CAIZC,aAAa,CAAE,aAJH,CAKZC,UAAU,CAAE,aALA,CAMZC,eAAe,CAAE,aANL,CAAhB,CAQA,mBACI,aAAK,SAAS,CAAC,eAAf,CAA+B,EAAE,CAAC,kBAAlC,wBACI,aAAK,SAAS,CAAC,mBAAf,wBACI,oBAAKN,SAAS,CAAET,KAAF,CAAd,EADJ,cAEI,UAAG,IAAI,CAAC,GAAR,CAAY,SAAS,CAAC,oCAAtB,kDAFJ,GADJ,cAKI,YAAK,SAAS,CAAC,wBAAf,UACME,OAAO,CAACc,GAAR,CAAY,SAACZ,IAAD,CAAOa,KAAP,CAAiB,CAC3B,mBAAO,KAAC,OAAD,EAAS,IAAI,CAAEb,IAAf,CAAqB,IAAI,CAAEH,IAA3B,CAAiC,KAAK,CAAED,KAAxC,CAA+C,EAAE,CAAEA,KAAK,CAAC,GAAN,CAAUiB,KAA7D,EAAP,CACH,CAFC,CADN,EALJ,GADJ,CAaD,CA7DH,CA+DA,cAAelB,CAAAA,SAAf","sourcesContent":["import { useState, useEffect } from \"react\";\nimport ActivityCard from \"./ActivityCard\";\nimport PointCard from \"./PointCard\";\nimport { requesScenicSpot, requesActivity, requesRestaurant } from \"../../controller/apiManager\";\n\nasync function fetchScenicSpotData(sethotList){ //載入頁面取後端資料\n    const getdata = await requesScenicSpot('', {\n        $filter: \"Picture/PictureUrl1 ne null\",\n        $top: 4,\n        $format: 'JSON'\n    });\n    sethotList(getdata);\n}\n\nasync function fetchRestaurantData(sethotList){ //載入頁面取後端資料\n    const getdata = await requesRestaurant('', {\n        $filter: \"Picture/PictureUrl1 ne null\",\n        $top: 4,\n        $format: 'JSON'\n    });\n    sethotList(getdata);\n}\n\nasync function fetchActivityData(sethotList){ //載入頁面取後端資料\n    const getdata = await requesActivity('', {\n        $filter: \"Picture/PictureUrl1 ne null\",\n        $top: 4,\n        $format: 'JSON'\n    });\n    sethotList(getdata);\n}\n\nconst IntroList = ({ title, type }) => {\n    const [hotList, sethotList] = useState([]);\n\n    useEffect(() => {\n        if((title) === 'ActivityID'){\n            fetchActivityData(sethotList);\n        }\n\n        if((title) === 'ScenicSpotID'){\n            fetchScenicSpotData(sethotList);\n        }\n\n        if((title) === 'RestaurantID'){\n            fetchRestaurantData(sethotList);\n        }\n    }, []);\n    \n\n    const GetCard=({ item, type, title, id })=>{\n        if(type === 'AC'){\n            return <ACard item={item} key={id}/>\n        } else {\n            return <PCard item={item} title={title} key={id}/>\n        }\n    }\n\n    const ACard=({item, key})=>{\n        return <ActivityCard key={key}\n            item={item}\n        />;\n    }\n\n    const PCard=({item, title, key})=>{\n        return <PointCard \n            item={item}\n            type={title}\n            key={key}\n        />;\n    }\n\n    var titleName = {\n        ActivityID : '近期活動',\n        ScenicSpotID : '熱門打卡景點',\n        RestaurantID : '一再回訪的美食',\n        otherActivity: '還有這些不能錯過的活動',\n        otherPlace: '還有這些不能錯過的景點',\n        otherRestaurant: '還有這些不能錯過的美食'\n    }\n    return (\n        <div className=\"container p-5\" id=\"newActivityBlock\">\n            <div className=\"containerTitleBox\">\n                <h1>{titleName[(title)]}</h1>\n                <a href=\"/\" className=\"moreBtn red mr-5 position-relative\">查看更多活動</a>\n            </div>\n            <div className=\"d-flex flex-wrap Block\">\n                { hotList.map((item, index) => {\n                    return <GetCard item={item} type={type} title={title} id={title+\"-\"+index}/>\n                }) }\n            </div>\n        </div>\n    );\n  };\n  \nexport default IntroList;"]},"metadata":{},"sourceType":"module"}