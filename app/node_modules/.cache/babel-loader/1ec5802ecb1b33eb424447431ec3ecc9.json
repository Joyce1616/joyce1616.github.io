{"ast":null,"code":"var _jsxFileName = \"/Users/chienyoushan/Desktop/33/myapp/src/pages/SearchDetail/index.js\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport { useState, useEffect } from \"react\";\nimport Carousel from \"../../components/Common/Carousel\";\nimport { requesScenicSpot, requesActivity, requesRestaurant } from \"../../controller/apiManager\";\nimport { useParams } from \"react-router-dom\";\nimport DetailInfo from \"./common/DetailInfo\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nasync function fetchScenicSpotData(setDetailData) {\n  //載入頁面取後端資料\n  const getdata = await requesScenicSpot('', {\n    $top: 4,\n    $format: 'JSON'\n  });\n  setDetailData(getdata);\n}\n\nasync function fetchRestaurantData(setDetailData) {\n  //載入頁面取後端資料\n  const getdata = await requesRestaurant('', {\n    $filter: \"Picture/PictureUrl1 ne null\",\n    $top: 4,\n    $format: 'JSON'\n  });\n  setDetailData(getdata);\n}\n\nasync function fetchActivityData(setDetailData, id) {\n  //載入頁面取後端資料\n  const getdata = await requesActivity('', {\n    $filter: `ActivityID eq '` + id + `'`,\n    $format: 'JSON'\n  });\n  setDetailData(getdata);\n}\n\nconst SearchDetail = _ref => {\n  _s();\n\n  let {\n    title\n  } = _ref;\n  const {\n    itemId,\n    itemType\n  } = useParams();\n  const [searchDetailData, setDetailData] = useState([]);\n  useEffect(() => {\n    if (itemType === 'ActivityID') {\n      console.log('222');\n      fetchActivityData(setDetailData, itemId);\n    }\n\n    if (title === 'hotPlace') {\n      fetchScenicSpotData(setDetailData);\n    }\n\n    if (title === 'goodFood') {\n      fetchRestaurantData(setDetailData);\n    }\n  }, []); // const {StartTime, EndTime, Organizer, Location} = searchDetailData[0];\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Carousel, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(DetailInfo, {\n      data: searchDetailData[0]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 7\n  }, this);\n};\n\n_s(SearchDetail, \"x5YB7CBxu6cd9AmDlayeLZD42uw=\", false, function () {\n  return [useParams];\n});\n\n_c = SearchDetail;\nexport default SearchDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchDetail\");","map":{"version":3,"sources":["/Users/chienyoushan/Desktop/33/myapp/src/pages/SearchDetail/index.js"],"names":["React","useState","useEffect","Carousel","requesScenicSpot","requesActivity","requesRestaurant","useParams","DetailInfo","fetchScenicSpotData","setDetailData","getdata","$top","$format","fetchRestaurantData","$filter","fetchActivityData","id","SearchDetail","title","itemId","itemType","searchDetailData","console","log"],"mappings":";;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,QAAP,MAAqB,kCAArB;AACA,SAASC,gBAAT,EAA2BC,cAA3B,EAA2CC,gBAA3C,QAAmE,6BAAnE;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,OAAOC,UAAP,MAAuB,qBAAvB;;;AAEA,eAAeC,mBAAf,CAAmCC,aAAnC,EAAiD;AAAE;AAC/C,QAAMC,OAAO,GAAG,MAAMP,gBAAgB,CAAC,EAAD,EAAK;AACvCQ,IAAAA,IAAI,EAAE,CADiC;AAEvCC,IAAAA,OAAO,EAAE;AAF8B,GAAL,CAAtC;AAIAH,EAAAA,aAAa,CAACC,OAAD,CAAb;AACH;;AAED,eAAeG,mBAAf,CAAmCJ,aAAnC,EAAiD;AAAE;AAC/C,QAAMC,OAAO,GAAG,MAAML,gBAAgB,CAAC,EAAD,EAAK;AACvCS,IAAAA,OAAO,EAAE,6BAD8B;AAEvCH,IAAAA,IAAI,EAAE,CAFiC;AAGvCC,IAAAA,OAAO,EAAE;AAH8B,GAAL,CAAtC;AAKAH,EAAAA,aAAa,CAACC,OAAD,CAAb;AACH;;AAED,eAAeK,iBAAf,CAAiCN,aAAjC,EAAgDO,EAAhD,EAAmD;AAAE;AACjD,QAAMN,OAAO,GAAG,MAAMN,cAAc,CAAC,EAAD,EAAK;AACrCU,IAAAA,OAAO,EAAG,iBAAD,GAAkBE,EAAlB,GAAsB,GADM;AAErCJ,IAAAA,OAAO,EAAE;AAF4B,GAAL,CAApC;AAIAH,EAAAA,aAAa,CAACC,OAAD,CAAb;AACH;;AAGD,MAAMO,YAAY,GAAG,QAAa;AAAA;;AAAA,MAAZ;AAACC,IAAAA;AAAD,GAAY;AAC9B,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA;AAAV,MAAuBd,SAAS,EAAtC;AACA,QAAM,CAACe,gBAAD,EAAmBZ,aAAnB,IAAoCT,QAAQ,CAAC,EAAD,CAAlD;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAImB,QAAD,KAAe,YAAlB,EAA+B;AAC3BE,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACAR,MAAAA,iBAAiB,CAACN,aAAD,EAAgBU,MAAhB,CAAjB;AACH;;AAED,QAAID,KAAD,KAAY,UAAf,EAA0B;AACtBV,MAAAA,mBAAmB,CAACC,aAAD,CAAnB;AACH;;AAED,QAAIS,KAAD,KAAY,UAAf,EAA0B;AACtBL,MAAAA,mBAAmB,CAACJ,aAAD,CAAnB;AACH;AACJ,GAbQ,EAaN,EAbM,CAAT,CAJ8B,CAmB9B;;AACA,sBACE;AAAA,4BACI,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI,QAAC,UAAD;AAAY,MAAA,IAAI,EAAEY,gBAAgB,CAAC,CAAD;AAAlC;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAMD,CA1BH;;GAAMJ,Y;UAC2BX,S;;;KAD3BW,Y;AA4BJ,eAAeA,YAAf","sourcesContent":["import * as React from 'react';\nimport { useState, useEffect } from \"react\";\nimport Carousel from \"../../components/Common/Carousel\";\nimport { requesScenicSpot, requesActivity, requesRestaurant } from \"../../controller/apiManager\";\nimport { useParams } from \"react-router-dom\";\nimport DetailInfo from \"./common/DetailInfo\"\n\nasync function fetchScenicSpotData(setDetailData){ //載入頁面取後端資料\n    const getdata = await requesScenicSpot('', {\n        $top: 4,\n        $format: 'JSON'\n    });\n    setDetailData(getdata);\n}\n\nasync function fetchRestaurantData(setDetailData){ //載入頁面取後端資料\n    const getdata = await requesRestaurant('', {\n        $filter: \"Picture/PictureUrl1 ne null\",\n        $top: 4,\n        $format: 'JSON'\n    });\n    setDetailData(getdata);\n}\n\nasync function fetchActivityData(setDetailData, id){ //載入頁面取後端資料\n    const getdata = await requesActivity('', {\n        $filter: `ActivityID eq '`+id+`'`,\n        $format: 'JSON'\n    });\n    setDetailData(getdata);\n}\n\n\nconst SearchDetail = ({title}) => {\n    const { itemId, itemType } = useParams();\n    const [searchDetailData, setDetailData] = useState([]);\n    \n    useEffect(() => {\n        if((itemType) === 'ActivityID'){\n            console.log('222');\n            fetchActivityData(setDetailData, itemId);\n        }\n\n        if((title) === 'hotPlace'){\n            fetchScenicSpotData(setDetailData);\n        }\n\n        if((title) === 'goodFood'){\n            fetchRestaurantData(setDetailData);\n        }\n    }, []);\n\n    // const {StartTime, EndTime, Organizer, Location} = searchDetailData[0];\n    return (\n      <div>\n          <Carousel/>\n          <DetailInfo data={searchDetailData[0]}/>\n      </div>\n    );\n  };\n  \n  export default SearchDetail;"]},"metadata":{},"sourceType":"module"}