{"ast":null,"code":"import _regeneratorRuntime from\"/Users/chienyoushan/Desktop/33/myapp/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/chienyoushan/Desktop/33/myapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/chienyoushan/Desktop/33/myapp/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useState,useEffect}from\"react\";import{requesScenicSpot}from\"../../controller/apiManager\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var CarouselCard=function CarouselCard(_ref){var activity=_ref.activity,active=_ref.active;var ScenicSpotName=activity.ScenicSpotName,_activity$Address=activity.Address,Address=_activity$Address===void 0?'':_activity$Address,_activity$Picture=activity.Picture,Picture=_activity$Picture===void 0?{}:_activity$Picture;var _Picture$PictureUrl=Picture.PictureUrl1,PictureUrl1=_Picture$PictureUrl===void 0?'':_Picture$PictureUrl,_Picture$PictureDescr=Picture.PictureDescription1,PictureDescription1=_Picture$PictureDescr===void 0?'':_Picture$PictureDescr;var AddressP=Address.substr(0,3);var act='';if(active===0){act=' active';}return/*#__PURE__*/_jsxs(\"div\",{className:\"carousel-item\"+act,children:[/*#__PURE__*/_jsxs(\"p\",{className:\"picName\",children:[ScenicSpotName,\" | \",AddressP]}),/*#__PURE__*/_jsx(\"img\",{src:PictureUrl1,className:\"d-block w-100\",alt:PictureDescription1})]});};var Carousel=function Carousel(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),carouselData=_useState2[0],setCarousel=_useState2[1];function fetchRestaurantData(_x){return _fetchRestaurantData.apply(this,arguments);}function _fetchRestaurantData(){_fetchRestaurantData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(setCarousel){var filter,getdata;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0://載入頁面取後端資料\nfilter={$top:4,$format:'JSON'};_context.next=3;return requesScenicSpot('',filter);case 3:getdata=_context.sent;setCarousel(getdata);case 5:case\"end\":return _context.stop();}}},_callee);}));return _fetchRestaurantData.apply(this,arguments);}useEffect(function(){fetchRestaurantData(setCarousel);},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"Indexcarousel\",className:\"carousel slide px-5 pt-5\",\"data-bs-ride\":\"carousel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"carousel-indicators\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"data-bs-target\":\"#Indexcarousel\",\"data-bs-slide-to\":\"0\",className:\"active\",\"aria-current\":\"true\",\"aria-label\":\"Slide 1\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"data-bs-target\":\"#Indexcarousel\",\"data-bs-slide-to\":\"1\",\"aria-label\":\"Slide 2\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"data-bs-target\":\"#Indexcarousel\",\"data-bs-slide-to\":\"2\",\"aria-label\":\"Slide 3\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"data-bs-target\":\"#Indexcarousel\",\"data-bs-slide-to\":\"3\",\"aria-label\":\"Slide 4\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"carousel-inner\",children:carouselData.map(function(item,index){return/*#__PURE__*/_jsx(CarouselCard,{activity:item,active:index},item.ScenicSpotID);})}),/*#__PURE__*/_jsxs(\"button\",{className:\"carousel-control-prev\",type:\"button\",\"data-bs-target\":\"#Indexcarousel\",\"data-bs-slide\":\"prev\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"carousel-control-prev-icon\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Previous\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"carousel-control-next\",type:\"button\",\"data-bs-target\":\"#Indexcarousel\",\"data-bs-slide\":\"next\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"carousel-control-next-icon\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Next\"})]})]})});};export default Carousel;","map":{"version":3,"sources":["/Users/chienyoushan/Desktop/33/myapp/src/components/Common/Carousel.js"],"names":["React","useState","useEffect","requesScenicSpot","CarouselCard","activity","active","ScenicSpotName","Address","Picture","PictureUrl1","PictureDescription1","AddressP","substr","act","Carousel","carouselData","setCarousel","fetchRestaurantData","filter","$top","$format","getdata","map","item","index","ScenicSpotID"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { requesScenicSpot } from \"../../controller/apiManager\";\n\nconst CarouselCard = ({ activity, active }) => {\n    const { ScenicSpotName, Address = '', Picture = {} } = activity;\n    const { PictureUrl1 = '', PictureDescription1 = '' } = Picture;\n    const AddressP = Address.substr(0, 3);\n    let act = '';\n    if(active === 0){\n        act = ' active'\n    }\n    return (\n        <div className={\"carousel-item\"+(act)}>\n            <p className=\"picName\">{ScenicSpotName} | {AddressP}</p>\n            <img src={PictureUrl1} className=\"d-block w-100\" alt={PictureDescription1}/>\n        </div>\n    )\n}\n  \nconst Carousel = () => {\n    const [carouselData, setCarousel] = useState([]);\n    async function fetchRestaurantData(setCarousel){ //載入頁面取後端資料\n        let filter = {\n            $top: 4,\n            $format: 'JSON'\n        }\n        const getdata = await requesScenicSpot('', filter);\n        setCarousel(getdata);\n    }\n    \n    useEffect(() => {\n        fetchRestaurantData(setCarousel);\n    }, []);\n\n    return (\n        <div className=\"container\">\n            <div id=\"Indexcarousel\" className=\"carousel slide px-5 pt-5\" data-bs-ride=\"carousel\">\n                <div className=\"carousel-indicators\">\n                    <button type=\"button\" data-bs-target=\"#Indexcarousel\" data-bs-slide-to=\"0\" className=\"active\" aria-current=\"true\" aria-label=\"Slide 1\"></button>\n                    <button type=\"button\" data-bs-target=\"#Indexcarousel\" data-bs-slide-to=\"1\" aria-label=\"Slide 2\"></button>\n                    <button type=\"button\" data-bs-target=\"#Indexcarousel\" data-bs-slide-to=\"2\" aria-label=\"Slide 3\"></button>\n                    <button type=\"button\" data-bs-target=\"#Indexcarousel\" data-bs-slide-to=\"3\" aria-label=\"Slide 4\"></button>\n                </div>\n                <div className=\"carousel-inner\">\n                    {carouselData.map((item, index) => {\n                        return (\n                        <CarouselCard \n                            key={item.ScenicSpotID} \n                            activity={item}\n                            active={index}\n                                />)\n                    })}\n                </div>\n                <button className=\"carousel-control-prev\" type=\"button\" data-bs-target=\"#Indexcarousel\" data-bs-slide=\"prev\">\n                    <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n                    <span className=\"visually-hidden\">Previous</span>\n                </button>\n                <button className=\"carousel-control-next\" type=\"button\" data-bs-target=\"#Indexcarousel\" data-bs-slide=\"next\">\n                    <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n                    <span className=\"visually-hidden\">Next</span>\n                </button>\n            </div>\n        </div>\n    );\n};\n  \nexport default Carousel;"]},"metadata":{},"sourceType":"module"}