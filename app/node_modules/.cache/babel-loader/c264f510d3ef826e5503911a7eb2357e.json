{"ast":null,"code":"import $ from 'jquery';\nvar x, i, j, l, ll, selElmnt, a, b, c;\nx = $('.custom_select');\nl = x.length;\n\nfor (i = 0; i < l; i++) {\n  console.log(x[i]);\n  selElmnt = x[i].getElementsByTagName(\"select\")[0];\n  ll = selElmnt.length;\n  a = document.createElement(\"DIV\");\n  a.setAttribute(\"class\", \"select-selected\");\n  a.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML;\n  x[i].appendChild(a); // s = document.createElement(\"DIV\");\n  // s.setAttribute(\"class\", \"select-itemsBlock\");\n\n  b = document.createElement(\"DIV\");\n  b.setAttribute(\"class\", \"select-items select-hide\");\n\n  for (j = 0; j < ll; j++) {\n    c = document.createElement(\"DIV\");\n    c.innerHTML = selElmnt.options[j].innerHTML;\n    c.addEventListener(\"click\", function (e) {\n      var y, i, k, s, h, sl, yl;\n      s = this.parentNode.parentNode.getElementsByTagName(\"select\")[0];\n      sl = s.length;\n      h = this.parentNode.previousSibling;\n\n      for (i = 0; i < sl; i++) {\n        if (s.options[i].innerHTML == this.innerHTML) {\n          s.selectedIndex = i;\n          h.innerHTML = this.innerHTML;\n          y = this.parentNode.getElementsByClassName(\"same-as-selected\");\n          yl = y.length;\n\n          for (k = 0; k < yl; k++) {\n            y[k].removeAttribute(\"class\");\n          }\n\n          this.setAttribute(\"class\", \"same-as-selected\");\n          break;\n        }\n      }\n\n      h.click();\n    });\n    b.appendChild(c);\n  }\n\n  x[i].appendChild(b);\n  a.addEventListener(\"click\", function (e) {\n    e.stopPropagation();\n    closeAllSelect(this); // this.nextSibling.classList.toggle(\"select-hide\");\n\n    $('.custom_select .select-items').slideToggle();\n    this.classList.toggle(\"select-arrow-active\");\n  });\n}\n\nfunction closeAllSelect(elmnt) {\n  var x,\n      y,\n      i,\n      xl,\n      yl,\n      arrNo = [];\n  x = document.getElementsByClassName(\"select-items\");\n  y = document.getElementsByClassName(\"select-selected\");\n  xl = x.length;\n  yl = y.length;\n\n  for (i = 0; i < yl; i++) {\n    if (elmnt == y[i]) {\n      arrNo.push(i);\n    } else {\n      y[i].classList.remove(\"select-arrow-active\");\n    }\n  }\n\n  for (i = 0; i < xl; i++) {\n    if (arrNo.indexOf(i)) {\n      x[i].classList.add(\"select-hide\");\n    }\n  }\n}\n\ndocument.addEventListener(\"click\", closeAllSelect);","map":{"version":3,"sources":["/Users/chienyoushan/Desktop/33/myapp/src/js/select.js"],"names":["$","x","i","j","l","ll","selElmnt","a","b","c","length","console","log","getElementsByTagName","document","createElement","setAttribute","innerHTML","options","selectedIndex","appendChild","addEventListener","e","y","k","s","h","sl","yl","parentNode","previousSibling","getElementsByClassName","removeAttribute","click","stopPropagation","closeAllSelect","slideToggle","classList","toggle","elmnt","xl","arrNo","push","remove","indexOf","add"],"mappings":"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","sourcesContent":["\nimport $ from 'jquery';\nvar x, i, j, l, ll, selElmnt, a, b, c;\nx = $('.custom_select');\nl = x.length;\nfor (i = 0; i < l; i++) {\n    console.log(x[i]);\n    selElmnt = x[i].getElementsByTagName(\"select\")[0];\n    ll = selElmnt.length;\n    a = document.createElement(\"DIV\");\n    a.setAttribute(\"class\", \"select-selected\");\n    a.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML;\n    x[i].appendChild(a);\n    // s = document.createElement(\"DIV\");\n    // s.setAttribute(\"class\", \"select-itemsBlock\");\n    b = document.createElement(\"DIV\");\n    b.setAttribute(\"class\", \"select-items select-hide\");\n    for (j = 0; j < ll; j++) {\n        c = document.createElement(\"DIV\");\n        c.innerHTML = selElmnt.options[j].innerHTML;\n        c.addEventListener(\"click\", function(e) {\n            var y, i, k, s, h, sl, yl;\n            s = this.parentNode.parentNode.getElementsByTagName(\"select\")[0];\n            sl = s.length;\n            h = this.parentNode.previousSibling;\n            for (i = 0; i < sl; i++) {\n                if (s.options[i].innerHTML == this.innerHTML) {\n                    s.selectedIndex = i;\n                    h.innerHTML = this.innerHTML;\n                    y = this.parentNode.getElementsByClassName(\"same-as-selected\");\n                    yl = y.length;\n                    for (k = 0; k < yl; k++) {\n                        y[k].removeAttribute(\"class\");\n                    }\n                    this.setAttribute(\"class\", \"same-as-selected\");\n                    break;\n                }\n            }\n            h.click();\n        });\n        b.appendChild(c);\n    }\n    x[i].appendChild(b);\n    a.addEventListener(\"click\", function(e) {\n        e.stopPropagation();\n        closeAllSelect(this);\n        // this.nextSibling.classList.toggle(\"select-hide\");\n        $('.custom_select .select-items').slideToggle();\n        this.classList.toggle(\"select-arrow-active\");\n    });\n}\n\n\n\nfunction closeAllSelect(elmnt) {\n    var x, y, i, xl, yl, arrNo = [];\n    x = document.getElementsByClassName(\"select-items\");\n    y = document.getElementsByClassName(\"select-selected\");\n    xl = x.length;\n    yl = y.length;\n    for (i = 0; i < yl; i++) {\n        if (elmnt == y[i]) {\n            arrNo.push(i)\n        } else {\n            y[i].classList.remove(\"select-arrow-active\");\n        }\n    }\n    for (i = 0; i < xl; i++) {\n        if (arrNo.indexOf(i)) {\n            x[i].classList.add(\"select-hide\");\n        }\n    }\n}\n\ndocument.addEventListener(\"click\", closeAllSelect);\n\n\n"]},"metadata":{},"sourceType":"module"}